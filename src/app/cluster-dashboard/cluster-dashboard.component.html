<nav class="navbar navbar-light bg-light">
    <a class="navbar-brand" href="#">
        <img src="assets/img/k8s.svg" width="80" height="50" alt="">
    </a>
    <button type="button" class="btn btn-secondary ml3" (click)="latestPull($event)"><i class="fas fa-sync-alt fa-fw"></i> Reload in <span class="timer">{{timer}}</span></button>
    <h1>{{clusterName}}</h1>
    <button type="button" class="btn btn-primary ml3">
      <mat-slide-toggle [(ngModel)]="isChecked" name="check" (change)="autoReload($event)"><i class="fas fa-sync-alt fa-fw"></i> Auto Reload 60/s: {{isChecked}}</mat-slide-toggle>
    </button>
    <button type="button" class="btn btn-primary ml3" (click)="back()">Dashboard</button>
</nav>
  
<div class="third-div">
    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col"><input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"></th>
                <th scope="col">#</th>
                <th scope="col">APP</th>
                <th scope="col">PNAME</th>
                <th scope="col">RESTARTS</th>
                <th scope="col">NODE</th>
                <th scope="col">AGE</th>
                <th scope="col">REDAY</th>
                <th scope="col">Pod Logs Action</th>
                <th scope="col">App Logs Action</th>
            </tr>
        </thead>
        <tbody *ngFor="let data of this.clusterData;let i =index ;let l = count">
            <tr>
                <th [attr.rowspan]="l"><input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"></th>
                <th [attr.rowspan]="l">{{i + 1}}</th>
                <th [attr.rowspan]="l">{{data.APP}}</th>
                <td>{{data.PNAME}}</td>
                <td>{{data.RESTARTS}}</td>
                <td>{{data.NODE}}</td>
                <td>{{data.AGE}}</td>
                <td *ngIf="data.READY; else Error">Running</td>
                <ng-template #Error>
                    <td>Error...</td>
                </ng-template>
                <td>
                    <div class="dropdown">
                        <button class="btn btn-info dropdown-toggle me-2" type="button" id="dropdownMenuButton1"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-eye"></i> PLogs
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                            <li><a class="dropdown-item" (click)="viewPodLogs(data.PNAME, '1h')">View 1H</a></li>
                            <li><a class="dropdown-item" (click)="viewPodLogs(data.PNAME, '2h')">View 2H</a></li>
                            <li><a class="dropdown-item" (click)="viewPodLogs(data.PNAME, '12h')">View 12H</a></li>
                            <li><a class="dropdown-item" (click)="viewPodLogs(data.PNAME, '24h')">View 24H</a></li>
                            <li><a class="dropdown-item" (click)="viewPodLogs(data.PNAME, '48h')">View 48H</a></li>
                            <li><a class="dropdown-item" (click)="viewPodLogs(data.PNAME, '72h')">View 72H <i
                                        class="fas fa-exclamation-circle"></i></a></li>
                            <li><a class="dropdown-item" (click)="viewPodLogs(data.PNAME)" *ngIf="isAdmin">View Full
                                    Logs <i class="fas fa-exclamation-circle"></i></a></li>
                        </ul>
                        <button class="btn btn-success dropdown-toggle me-2" type="button" id="dropdownMenuButton2"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-download"></i> PLogs
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton2">
                            <li><a class="dropdown-item" (click)="downloadPodLogs(data.PNAME, '1h')">Download 1H</a>
                            </li>
                            <li><a class="dropdown-item" (click)="downloadPodLogs(data.PNAME, '2h')">Download 2H</a>
                            </li>
                            <li><a class="dropdown-item" (click)="downloadPodLogs(data.PNAME, '12h')">Download 12H</a>
                            </li>
                            <li><a class="dropdown-item" (click)="downloadPodLogs(data.PNAME, '24h')">Download 24H</a>
                            </li>
                            <li><a class="dropdown-item" (click)="downloadPodLogs(data.PNAME, '48h')">Download 48H</a>
                            </li>
                            <li><a class="dropdown-item" (click)="downloadPodLogs(data.PNAME, '72h')">Download 72H <i
                                        class="fas fa-exclamation-circle"></i></a></li>
                            <li><a class="dropdown-item" (click)="downloadPodLogs(data.PNAME)" *ngIf="isAdmin">Download
                                    Full Logs <i class="fas fa-exclamation-circle"></i></a></li>
                        </ul>
                    </div>
                </td>
                <td>
                    <div class="dropdown">
                        <button class="btn btn-info dropdown-toggle me-2" type="button" id="dropdownMenuButton3"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-eye"></i> ALogs
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton3">
                            <li><a class="dropdown-item" (click)="viewAppLogs(data.APP, '100')">View 100 Lines</a></li>
                            <li><a class="dropdown-item" (click)="viewAppLogs(data.APP, '1000')">View 1000 Lines</a>
                            </li>
                            <li><a class="dropdown-item" (click)="viewAppLogs(data.APP, '10000')">View 10000 Lines</a>
                            </li>
                            <li><a class="dropdown-item" (click)="viewAppLogs(data.APP, '100000')">View 100000 Lines</a>
                            </li>
                            <li><a class="dropdown-item" (click)="viewAppLogs(data.APP, '1000000')">View 1000000 Lines
                                    <i class="fas fa-exclamation-circle"></i></a></li>
                            <li><a class="dropdown-item" (click)="viewAppLogs(data.APP)" *ngIf="isAdmin">View Full App
                                    Logs <i class="fas fa-exclamation-circle"></i></a></li>
                        </ul>
                        <button class="btn btn-success dropdown-toggle me-2" type="button" id="dropdownMenuButton4"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-download"></i> ALogs
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton4">
                            <li><a class="dropdown-item" (click)="downloadAppLogs(data.APP, '100')">Download 100
                                    Lines</a></li>
                            <li><a class="dropdown-item" (click)="downloadAppLogs(data.APP, '1000')">Download 1000
                                    Lines</a></li>
                            <li><a class="dropdown-item" (click)="downloadAppLogs(data.APP, '10000')">Download 10000
                                    Lines</a></li>
                            <li><a class="dropdown-item" (click)="downloadAppLogs(data.APP, '100000')">Download 100000
                                    Lines</a></li>
                            <li><a class="dropdown-item" (click)="downloadAppLogs(data.APP, '1000000')">Download 1000000
                                    Lines <i class="fas fa-exclamation-circle"></i></a></li>
                            <li><a class="dropdown-item" (click)="downloadAppLogs(data.APP)" *ngIf="isAdmin">Download
                                    Full App Logs <i class="fas fa-exclamation-circle"></i></a></li>
                        </ul>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>